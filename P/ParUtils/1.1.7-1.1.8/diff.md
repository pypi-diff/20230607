# Comparing `tmp/ParUtils-1.1.7-py3-none-any.whl.zip` & `tmp/ParUtils-1.1.8-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,24 +1,24 @@
-Zip file size: 16372 bytes, number of entries: 22
--rw-rw-rw-  2.0 fat     1387 b- defN 23-Mar-02 14:11 parutils/__init__.py
--rw-rw-rw-  2.0 fat     1176 b- defN 23-Apr-05 18:22 parutils/changelog.py
--rw-rw-rw-  2.0 fat     2817 b- defN 22-Dec-15 06:30 parutils/csvl.py
+Zip file size: 16518 bytes, number of entries: 22
+-rw-rw-rw-  2.0 fat     1415 b- defN 23-Jun-07 07:01 parutils/__init__.py
+-rw-rw-rw-  2.0 fat     1258 b- defN 23-Jun-07 07:03 parutils/changelog.py
+-rw-rw-rw-  2.0 fat     2874 b- defN 23-Jun-07 06:35 parutils/csvl.py
 -rw-rw-rw-  2.0 fat     2302 b- defN 22-Sep-22 06:06 parutils/dq.py
--rw-rw-rw-  2.0 fat     2941 b- defN 22-Dec-19 13:23 parutils/file.py
--rw-rw-rw-  2.0 fat      700 b- defN 22-Sep-21 17:28 parutils/msc.py
--rw-rw-rw-  2.0 fat     5427 b- defN 23-Mar-20 06:58 parutils/strg.py
+-rw-rw-rw-  2.0 fat     2881 b- defN 23-Jun-07 06:35 parutils/file.py
+-rw-rw-rw-  2.0 fat      745 b- defN 23-Jun-07 06:35 parutils/msc.py
+-rw-rw-rw-  2.0 fat     5563 b- defN 23-Jun-07 07:00 parutils/strg.py
 -rw-rw-rw-  2.0 fat      610 b- defN 22-Dec-13 06:12 parutils/testing.py
 -rw-rw-rw-  2.0 fat      421 b- defN 22-Sep-21 17:28 parutils/wrap.py
--rw-rw-rw-  2.0 fat      459 b- defN 23-Mar-02 14:03 parutils/logging/__init__.py
--rw-rw-rw-  2.0 fat     1994 b- defN 23-Apr-05 17:15 parutils/logging/cl.py
+-rw-rw-rw-  2.0 fat      461 b- defN 23-Jun-07 06:35 parutils/logging/__init__.py
+-rw-rw-rw-  2.0 fat     2027 b- defN 23-Jun-07 06:35 parutils/logging/cl.py
 -rw-rw-rw-  2.0 fat      115 b- defN 22-Sep-21 17:28 parutils/logging/const.py
--rw-rw-rw-  2.0 fat      861 b- defN 23-Mar-02 14:03 parutils/logging/core.py
--rw-rw-rw-  2.0 fat       19 b- defN 22-Oct-06 07:32 parutils/logging/g.py
--rw-rw-rw-  2.0 fat     2866 b- defN 23-Mar-13 07:52 parutils/logging/logger.py
+-rw-rw-rw-  2.0 fat      843 b- defN 23-Jun-07 06:35 parutils/logging/core.py
+-rw-rw-rw-  2.0 fat       47 b- defN 23-Jun-07 06:35 parutils/logging/g.py
+-rw-rw-rw-  2.0 fat     2879 b- defN 23-Jun-07 06:35 parutils/logging/logger.py
 -rw-rw-rw-  2.0 fat     1908 b- defN 23-Mar-23 08:21 parutils/logging/main.py
 -rw-rw-rw-  2.0 fat     1164 b- defN 22-Dec-13 06:13 parutils/logging/sl.py
--rw-rw-rw-  2.0 fat     1091 b- defN 23-Apr-06 04:38 ParUtils-1.1.7.dist-info/LICENSE
--rw-rw-rw-  2.0 fat     5175 b- defN 23-Apr-06 04:38 ParUtils-1.1.7.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Apr-06 04:38 ParUtils-1.1.7.dist-info/WHEEL
--rw-rw-rw-  2.0 fat        9 b- defN 23-Apr-06 04:38 ParUtils-1.1.7.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat     1696 b- defN 23-Apr-06 04:38 ParUtils-1.1.7.dist-info/RECORD
-22 files, 35230 bytes uncompressed, 13660 bytes compressed:  61.2%
+-rw-rw-rw-  2.0 fat     1091 b- defN 23-Jun-07 07:04 ParUtils-1.1.8.dist-info/LICENSE
+-rw-rw-rw-  2.0 fat     5175 b- defN 23-Jun-07 07:04 ParUtils-1.1.8.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-Jun-07 07:04 ParUtils-1.1.8.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        9 b- defN 23-Jun-07 07:04 ParUtils-1.1.8.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat     1696 b- defN 23-Jun-07 07:04 ParUtils-1.1.8.dist-info/RECORD
+22 files, 35576 bytes uncompressed, 13806 bytes compressed:  61.2%
```

## zipnote {}

```diff
@@ -45,23 +45,23 @@
 
 Filename: parutils/logging/main.py
 Comment: 
 
 Filename: parutils/logging/sl.py
 Comment: 
 
-Filename: ParUtils-1.1.7.dist-info/LICENSE
+Filename: ParUtils-1.1.8.dist-info/LICENSE
 Comment: 
 
-Filename: ParUtils-1.1.7.dist-info/METADATA
+Filename: ParUtils-1.1.8.dist-info/METADATA
 Comment: 
 
-Filename: ParUtils-1.1.7.dist-info/WHEEL
+Filename: ParUtils-1.1.8.dist-info/WHEEL
 Comment: 
 
-Filename: ParUtils-1.1.7.dist-info/top_level.txt
+Filename: ParUtils-1.1.8.dist-info/top_level.txt
 Comment: 
 
-Filename: ParUtils-1.1.7.dist-info/RECORD
+Filename: ParUtils-1.1.8.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## parutils/__init__.py

```diff
@@ -1,13 +1,30 @@
 from .changelog import __VERSION__
 
+from .logging import log
+from .logging import Logger
+from .logging import log_dict
+from .logging import step_log
+from .logging import get_logs
+from .logging import log_print
+from .logging import log_array
+from .logging import log_input
+from .logging import check_log
+from .logging import get_logger
+from .logging import set_logger
+from .logging import update_logs
+from .logging import log_example
+from .logging import close_logger
+from .logging import init_sl_timer
+
 from .strg import like
 from .strg import like_list
 from .strg import like_dict
 from .strg import hash512
+from .strg import truncate
 from .strg import big_number
 from .strg import extend_str
 from .strg import get_duration_ms
 from .strg import gen_random_string
 from .strg import get_duration_string
 
 from .file import mkdirs
@@ -23,29 +40,13 @@
 from .csvl import csv_to_list
 from .csvl import write_csv_line
 from .csvl import get_csv_fields_dict
 
 from .msc import list_to_dict
 from .msc import replace_from_dict
 
-from .logging import log
-from .logging import Logger
-from .logging import log_dict
-from .logging import step_log
-from .logging import get_logs
-from .logging import log_print
-from .logging import log_array
-from .logging import log_input
-from .logging import check_log
-from .logging import get_logger
-from .logging import set_logger
-from .logging import update_logs
-from .logging import log_example
-from .logging import close_logger
-from .logging import init_sl_timer
-
 from .dq import diff_list
 from .dq import file_match
 from .dq import del_dup_list
 from .dq import find_dup_list
 
 from .testing import ttry
```

## parutils/changelog.py

```diff
@@ -1,10 +1,14 @@
-__VERSION__ = '1.1.7'
-# log_array - char_tab arg
-# check_log - name arg
+__VERSION__ = '1.1.8'
+# check_log - in_list optional
+# strg - truncate
+
+# __VERSION__ = '1.1.7'
+# # log_array - char_tab arg
+# # check_log - name arg
 
 # __VERSION__ = '1.1.6'
 # # exact arg for like, like_list and like_dict
 
 # __VERSION__ = '1.1.5'
 # # Fixed bug in log_dict / log_print (tab_char)
```

## parutils/csvl.py

```diff
@@ -1,8 +1,10 @@
 import csv
+from io import TextIOWrapper
+
 from . import file
 
 SEPARATOR = ';'
 E_WRONG_TYPE_LIST = "List elements must be of type list (if you want to save a list of strings, please use the save_list function)"
 
 
 def get_csv_fields_dict(in_path):
@@ -36,15 +38,15 @@
             for line in in_file:
                 line_list = csv_to_list(line)
                 out_list.append(line_list)
 
     return out_list
 
 
-def csv_to_list(line_in):
+def csv_to_list(line_in: str):
     """Converts a csv line to a list using SEPARATOR as separator"""
 
     return line_in.strip('\n').split(SEPARATOR)
 
 
 def save_csv(array_in, out_path, mode='w', quote=False):
     """Saves a list to a csv file
@@ -56,30 +58,30 @@
 
     file.mkdirs(p.dirname(out_path))
     with open(out_path, mode, encoding='utf-8') as out_file:
         for row in array_in:
             write_csv_line(row, out_file, quote)
 
 
-def write_csv_line(row, out_file, quote=False):
+def write_csv_line(row, out_file: TextIOWrapper, quote=False):
     """Writes a line to a csv file
 
     - row: has to be a list
     """
 
     if not isinstance(row, list):
         raise Exception(E_WRONG_TYPE_LIST)
     if quote:
         row = [f'"{e}"' for e in row]
     line_out = SEPARATOR.join(row)
     line_out += '\n'
     out_file.write(line_out)
 
 
-def csv_clean(s):
+def csv_clean(s: str):
     """Cleans a csv field by removing csv separators and new line characters"""
 
     out = s.replace('\r', '')
     out = out.replace('\n', '')
     out = out.replace(SEPARATOR, '')
     return out
```

## parutils/file.py

```diff
@@ -1,28 +1,27 @@
 import os
 import os.path as p
 from shutil import rmtree
 
+from .logging import log
 from .strg import like_list
 
 
 def delete_folder(dir):
     """Deletes a folder and its content"""
-    from parutils.logging.main import log
 
     if p.exists(dir):
         rmtree(dir)
         log(f"Folder '{dir}' deleted")
 
 
 def mkdirs(dir, delete=False):
     """Same as os.makedirs but
     - Input can also be a path
     - With a 'delete' option which (if True) deletes the folder if it already exists."""
-    from parutils.logging.main import log
 
     if not dir:
         return
 
     if p.exists(dir) and not delete:
         return
     if p.exists(dir) and delete:
```

## parutils/msc.py

```diff
@@ -1,20 +1,23 @@
-def list_to_dict(list_in, separator='='):
+from typing import List
+
+
+def list_to_dict(list_in: List[str], separator='='):
     """Transforms 'list_in' to a dictionary using the 'separator'"""
 
     out = {}
     for elt in list_in:
         e = elt.split(separator)
         key = e[0].strip()
         value = elt[elt.find(separator) + 1:].strip()
         out[key] = value
     return out
 
 
-def replace_from_dict(str_in, dict_in, var_del='@@'):
+def replace_from_dict(str_in: str, dict_in, var_del='@@'):
     """Replaces the variables (delimited by '@@') in 'str_in' with the values
     of 'dict_in'.
 
     Example:
     - replace_from_dict('Hello @@VAR@@', {'VAR': 'world'}) returns 'Hello world'
     """
```

## parutils/strg.py

```diff
@@ -1,12 +1,14 @@
+import re
+
 E_WRONG_TYPE_LIST = "like_list must be of type list"
 E_WRONG_TYPE_DICT = "like_dict must be of type dict"
 
 
-def like(in_str, like_string, case_sensitive=True, exact=False):
+def like(in_str: str, like_string: str, case_sensitive=True, exact=False) -> re.Match:
     """Behaves as the LIKE of Oracle SQL (you can match strings with wildcard
     character '*'). Returns the match object that you can access with the group
     function.
 
     Important note:
     If in_str is multiline and contains 'Hello World' among other characters
         - like(in_str, 'Hello World') returns True if exact=False
@@ -19,15 +21,14 @@
         - like(in_str, '*Hel*ld*') returns a match object
 
     Example:
     - m = like('Hello World', 'He*o w*d')
     - m.group(0) => 'Hello World'
     - m.group(1) => 'll'
     """
-    import re
 
     if not case_sensitive:
         in_str = in_str.lower()
         like_string = like_string.lower()
 
     if '*' not in like_string and not exact:
         return like_string in in_str
@@ -68,15 +69,15 @@
             return key
         if isinstance(item, list) and like_list(in_str, item, case_sensitive, exact=exact):
             return key
 
     return False
 
 
-def hash512(in_str, length=10):
+def hash512(in_str: str, length=10):
     """Contrary to hash, this hash function is not randomised, meaning it
     always outputs the same string for the same input string"""
     import hashlib
 
     out = hashlib.sha512(in_str.encode('utf-8')).hexdigest()[:length]
     return out
 
@@ -159,7 +160,12 @@
     while position != 0:
         counter += 1
         position -= 1
         out = s[position] + out
         if counter % 3 == 0 and position != 0:
             out = " " + out
     return (out)
+
+
+def truncate(s, length=100):
+    out = s[0:length - 3] + '...' if len(s) > length else s
+    return out
```

## parutils/logging/__init__.py

```diff
@@ -1,7 +1,10 @@
+from . import const
+from .logger import Logger
+
 from .main import log
 from .main import log_dict
 from .main import log_print
 from .main import log_array
 from .main import log_input
 from .main import log_example
 
@@ -10,10 +13,8 @@
 
 from .core import get_logs
 from .core import get_logger
 from .core import set_logger
 from .core import update_logs
 from .core import close_logger
 
-from . import const
 from .cl import check_log
-from .logger import Logger
```

## parutils/logging/cl.py

```diff
@@ -1,16 +1,17 @@
 import warnings
 import parutils as u
 
+from . import Logger
 from .main import log
 from .main import log_print
 from .core import get_logger
 
 
-def check_log(in_list, in_list_not=[], log_matches=False, max_warn=0, name=''):
+def check_log(in_list=[], in_list_not=[], log_matches=False, max_warn=0, name=''):
     """Checks whether the current log file contains the 'in_list' elements.
     If it doesn't, a warning is thrown.
 
     - log_matches: if True, the matches are printed out in the log file
     """
 
     s = ' ' + name if name else ''
@@ -21,15 +22,15 @@
     n_w = 0
     n_w += check(in_list, txt, logger.log_path, log_matches)
     n_w += check_not(in_list_not, txt, logger.log_path)
 
     check_warn(n_w, max_warn)
 
 
-def load_txt(logger):
+def load_txt(logger: Logger):
     if not hasattr(logger, 'log_path'):
         s = 'No log file has been initialised. Initialise a log file by instanciating a logger object with Logger().'
         raise Exception(s)
     txt = u.load_txt(logger.log_path, False)
     return txt
```

## parutils/logging/core.py

```diff
@@ -1,33 +1,32 @@
 from functools import wraps
 
 from . import g
 from .logger import Logger
-from parutils.file import save_list
 
 
 def get_logger() -> Logger:
 
-    if g.cur_logger is None:
+    if g.logger is None:
         logger = Logger(file_write=False)
-        g.cur_logger = logger
+        g.logger = logger
     else:
-        logger = g.cur_logger
+        logger = g.logger
     return logger
 
 
 def set_logger(logger):
 
-    g.cur_logger = logger
+    g.logger = logger
 
 
 def close_logger():
 
-    if g.cur_logger:
-        g.cur_logger.close()
+    if g.logger:
+        g.logger.close()
 
 
 def logger_methode(func):
 
     @wraps(func)
     def new(*args, **kwargs):
         logger = get_logger()
@@ -38,10 +37,12 @@
 
 
 def get_logs():
     return get_logger().logs
 
 
 def update_logs(logs):
+    from parutils.file import save_list
+
     logger = get_logger()
     logger.logs = logs
     save_list(logs + [''], logger.log_path)
```

## parutils/logging/g.py

```diff
@@ -1 +1,3 @@
-cur_logger = None
+from . import Logger
+
+logger: Logger = None
```

## parutils/logging/logger.py

```diff
@@ -2,15 +2,14 @@
 import sys
 import os.path as p
 import parutils as u
 from time import time
 from threading import RLock
 from datetime import datetime
 
-from . import g
 from . import const
 
 lock = RLock()
 
 
 class Logger:
     def __init__(
@@ -19,17 +18,18 @@
         force_new_logger=False,
         level=None,
         log_format=None,
         file_write=True,
         dir=None,
         file_format=None,
     ) -> None:
+        from . import g
 
-        if g.cur_logger and g.cur_logger.file_write and not force_new_logger:
-            self = g.cur_logger
+        if g.logger and g.logger.file_write and not force_new_logger:
+            self = g.logger
             return
 
         self.logs = []
         self.level = level if level else const.DEFAULT_LEVEL
         self.log_format = log_format if log_format else const.DEFAULT_LOG_FORMAT
         self.file_write = file_write
         self.start_time = time()
@@ -49,19 +49,20 @@
             in_file.write('')
         s = (f"Log file initialised ({self.log_path})\n"
              f"CWD: {os.getcwd()}\n"
              f"Python interpreter path: {sys.executable}\n"
              f"Python version: {sys.version }\n"
              f"ParUtils version: {u.__VERSION__}\n")
         self.log_print(s)
-        g.cur_logger = self
+        g.logger = self
 
     @staticmethod
     def close():
-        g.cur_logger = None
+        from . import g
+        g.logger = None
 
     def log(self, *args, level=0, c_out=True):
         if self.level < level:
             return
 
         args = [str(e) for e in args]
         msg = ' '.join(args)
```

## Comparing `ParUtils-1.1.7.dist-info/LICENSE` & `ParUtils-1.1.8.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `ParUtils-1.1.7.dist-info/METADATA` & `ParUtils-1.1.8.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: ParUtils
-Version: 1.1.7
+Version: 1.1.8
 Summary: This package contains a bunch of Python utils developed for Support, Test and Automation IT Engineers
 Home-page: https://github.com/paularnaud2/ParUtils
 Author: Paul ARNAUD
 Author-email: paularnaud2@gmail.com
 Project-URL: Bug Tracker, https://github.com/paularnaud2/ParUtils/issues
 Classifier: Programming Language :: Python :: 3
 Classifier: License :: OSI Approved :: MIT License
```

## Comparing `ParUtils-1.1.7.dist-info/RECORD` & `ParUtils-1.1.8.dist-info/RECORD`

 * *Files 24% similar despite different names*

```diff
@@ -1,22 +1,22 @@
-parutils/__init__.py,sha256=_VtvbtIKu-r-BZ9UXScYcC3-pZP_JtG4dahU-zP801U,1387
-parutils/changelog.py,sha256=Rhjvvl1Yql7ygUdbD7BLouyZ67TuAg2Rg8FuFFLPQYc,1176
-parutils/csvl.py,sha256=6EKOpbhF3R9ZRjTIzqgPBcUKkn6YPPJseQ1b456OLeg,2817
+parutils/__init__.py,sha256=YoCYntQVfZD-1K1yQeMejwfT-2tYp9MF0qoUwqGkzt4,1415
+parutils/changelog.py,sha256=XDw6kHW409tE3iL_LtrTAw0VYQMAXBR0YASkZ2MdLCs,1258
+parutils/csvl.py,sha256=UBqw0lyhTNqFLSNIE-JM7TAQYCRgHftYQmHi21ru8-A,2874
 parutils/dq.py,sha256=kdvzOo5FLCumXagY05kGSseYlbR-zvjjmsMtGVliVc8,2302
-parutils/file.py,sha256=-jKr-9WuSRp7Ysa2TuEOTZ730CShR4FsMHt-DXzE3Os,2941
-parutils/msc.py,sha256=yBYeGSxdq_QZq5pqZf1f5zFuLI8WiKiOncGpHwGW2iY,700
-parutils/strg.py,sha256=Ac9OkQ3LocKkiZvUnrt2CaO6LIm2RCu3RJPGSPkukhU,5427
+parutils/file.py,sha256=-OPfMhTjHDqubZLWJquY-FOv3W_k9GWoMq_rNgtdU9Y,2881
+parutils/msc.py,sha256=0hf-WrYhDquaDtfHXINNs9tROwJ7iYV2J6y0umkaGRA,745
+parutils/strg.py,sha256=_8NQJ1iY58Z_xACTDVcyonvRHDRuy9Ai3Kv3CvVXRh4,5563
 parutils/testing.py,sha256=kXrMz8Kze4mZejaePmV_OIca4iuNcG_dhGVHCgVuF-k,610
 parutils/wrap.py,sha256=PqMyKodgEjWDXoIVZZXRaBSdkGFL5OWmVJttl2Crrg8,421
-parutils/logging/__init__.py,sha256=fNpKuslkarR5hkdoCY9X3fZpwUXKiQ-ic6vE14ZUchc,459
-parutils/logging/cl.py,sha256=3nrSNHrp68seMLwtC8-MBLGbEFzoD9FaQoSKiq8xeV0,1994
+parutils/logging/__init__.py,sha256=rSNpgjuYer-Hhn6zKzKwKSn_KfcajEXlk6cJnPC9eJU,461
+parutils/logging/cl.py,sha256=jhQyCpWT-qwW0ictD6KGAu3K1mXACBUmyxE3F5YGbpA,2027
 parutils/logging/const.py,sha256=YvIi9AROVeQHLS0hFrL96dWjW6jh4DO9r_ghZ4G-adA,115
-parutils/logging/core.py,sha256=7zdhdsnQkdIAEfEkDNw5a3UgLYMev9gLgczRYsHhv5g,861
-parutils/logging/g.py,sha256=USILUPG94ilOvtcJG0vnA9IWbyCOqX-gg_Mli13cPi0,19
-parutils/logging/logger.py,sha256=yD1tnqMcYo-mHnnGIVJrzk4nRv46JMzW00ZO1lJh92E,2866
+parutils/logging/core.py,sha256=vBwZnpM2GRNSSABPdzEM9SRpqr_YNqdPlG3T3lNPSiY,843
+parutils/logging/g.py,sha256=ZSrgZw63kwxIW66A7-9_iYeDt4AstNZ_XXQgK8MglyQ,47
+parutils/logging/logger.py,sha256=TcBRTiDPToxrMAI82sdLs8Lif8Oy9IgWooJy-jW43iE,2879
 parutils/logging/main.py,sha256=Z-ooY43PUk36nwVB_D9c9ZF7HUGngrFyVS8yBUVsTXA,1908
 parutils/logging/sl.py,sha256=3-sj_o33cZmOqeFxlTl5HyHOvSAhn9glYcc-BmTUpZc,1164
-ParUtils-1.1.7.dist-info/LICENSE,sha256=6kbiFSfobTZ7beWiKnHpN902HgBx-Jzgcme0SvKqhKY,1091
-ParUtils-1.1.7.dist-info/METADATA,sha256=0nYgNxf9n1CM-688BS2iu5BMHcfZQSAE9jGZ6JKpVro,5175
-ParUtils-1.1.7.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-ParUtils-1.1.7.dist-info/top_level.txt,sha256=1MDobUcroeYEvdupZCAFvA5hJjm7LSDUV5A4jHySNis,9
-ParUtils-1.1.7.dist-info/RECORD,,
+ParUtils-1.1.8.dist-info/LICENSE,sha256=6kbiFSfobTZ7beWiKnHpN902HgBx-Jzgcme0SvKqhKY,1091
+ParUtils-1.1.8.dist-info/METADATA,sha256=63JjyC2P27ZiyZbvVaXjaeAg80R0PVtNfN6sjsP39ko,5175
+ParUtils-1.1.8.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+ParUtils-1.1.8.dist-info/top_level.txt,sha256=1MDobUcroeYEvdupZCAFvA5hJjm7LSDUV5A4jHySNis,9
+ParUtils-1.1.8.dist-info/RECORD,,
```

