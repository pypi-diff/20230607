# Comparing `tmp/fairbench-0.2.3-py3-none-any.whl.zip` & `tmp/fairbench-0.2.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,35 +1,35 @@
-Zip file size: 21811 bytes, number of entries: 33
+Zip file size: 21892 bytes, number of entries: 33
 -rw-rw-rw-  2.0 fat      382 b- defN 23-May-31 10:14 fairbench/__init__.py
 -rw-rw-rw-  2.0 fat     1952 b- defN 23-Jun-01 09:25 fairbench/export.py
 -rw-rw-rw-  2.0 fat       38 b- defN 23-May-14 10:33 fairbench/bench/__init__.py
 -rw-rw-rw-  2.0 fat      583 b- defN 23-May-14 15:09 fairbench/bench/loader.py
 -rw-rw-rw-  2.0 fat      122 b- defN 23-May-13 22:58 fairbench/forks/__init__.py
 -rw-rw-rw-  2.0 fat     2130 b- defN 23-May-25 07:44 fairbench/forks/categorical.py
--rw-rw-rw-  2.0 fat     1070 b- defN 23-Jun-02 10:01 fairbench/forks/explanation.py
--rw-rw-rw-  2.0 fat    23803 b- defN 23-Jun-02 09:31 fairbench/forks/fork.py
+-rw-rw-rw-  2.0 fat     1161 b- defN 23-Jun-07 09:00 fairbench/forks/explanation.py
+-rw-rw-rw-  2.0 fat    23920 b- defN 23-Jun-07 08:52 fairbench/forks/fork.py
 -rw-rw-rw-  2.0 fat      154 b- defN 23-Jan-14 23:08 fairbench/metrics/__init__.py
 -rw-rw-rw-  2.0 fat     2846 b- defN 23-May-31 08:40 fairbench/metrics/classification.py
 -rw-rw-rw-  2.0 fat     2066 b- defN 23-May-31 07:41 fairbench/metrics/disparate_impact.py
 -rw-rw-rw-  2.0 fat     1494 b- defN 23-May-31 07:41 fairbench/metrics/disparate_mistreatment.py
 -rw-rw-rw-  2.0 fat      100 b- defN 23-May-31 10:15 fairbench/mitigation/__init__.py
 -rw-rw-rw-  2.0 fat     1790 b- defN 23-May-31 10:16 fairbench/mitigation/postprocessing.py
 -rw-rw-rw-  2.0 fat      207 b- defN 23-Jan-15 14:06 fairbench/reports/__init__.py
--rw-rw-rw-  2.0 fat     1478 b- defN 23-Jun-02 09:19 fairbench/reports/accumulate.py
--rw-rw-rw-  2.0 fat     1629 b- defN 23-May-18 18:48 fairbench/reports/adhoc.py
+-rw-rw-rw-  2.0 fat     1491 b- defN 23-Jun-07 08:52 fairbench/reports/accumulate.py
+-rw-rw-rw-  2.0 fat     1648 b- defN 23-Jun-07 08:50 fairbench/reports/adhoc.py
 -rw-rw-rw-  2.0 fat     2259 b- defN 23-May-28 14:54 fairbench/reports/base.py
 -rw-rw-rw-  2.0 fat      883 b- defN 23-May-14 15:09 fairbench/reports/surrogate.py
 -rw-rw-rw-  2.0 fat      155 b- defN 23-Feb-20 08:42 fairbench/reports/reduction/__init__.py
 -rw-rw-rw-  2.0 fat      794 b- defN 23-May-28 14:54 fairbench/reports/reduction/expanders.py
 -rw-rw-rw-  2.0 fat     1853 b- defN 23-Jun-02 08:25 fairbench/reports/reduction/reduce.py
 -rw-rw-rw-  2.0 fat     2364 b- defN 23-May-28 14:54 fairbench/reports/reduction/reducers.py
 -rw-rw-rw-  2.0 fat        0 b- defN 23-May-26 21:15 tests/__init__.py
 -rw-rw-rw-  2.0 fat     1394 b- defN 23-May-28 18:45 tests/test_batching.py
 -rw-rw-rw-  2.0 fat     1278 b- defN 23-Jun-01 09:09 tests/test_benchmarks.py
 -rw-rw-rw-  2.0 fat     4884 b- defN 23-Jun-07 08:14 tests/test_forks.py
 -rw-rw-rw-  2.0 fat     1572 b- defN 23-Jun-02 08:24 tests/test_reduction.py
 -rw-rw-rw-  2.0 fat     6556 b- defN 23-May-31 14:04 tests/test_reports.py
--rw-rw-rw-  2.0 fat      809 b- defN 23-Jun-07 08:24 fairbench-0.2.3.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Jun-07 08:24 fairbench-0.2.3.dist-info/WHEEL
--rw-rw-rw-  2.0 fat       16 b- defN 23-Jun-07 08:24 fairbench-0.2.3.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat     2783 b- defN 23-Jun-07 08:24 fairbench-0.2.3.dist-info/RECORD
-33 files, 69536 bytes uncompressed, 17333 bytes compressed:  75.1%
+-rw-rw-rw-  2.0 fat      848 b- defN 23-Jun-07 09:36 fairbench-0.2.4.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-Jun-07 09:36 fairbench-0.2.4.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat       16 b- defN 23-Jun-07 09:36 fairbench-0.2.4.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat     2783 b- defN 23-Jun-07 09:36 fairbench-0.2.4.dist-info/RECORD
+33 files, 69815 bytes uncompressed, 17414 bytes compressed:  75.1%
```

## zipnote {}

```diff
@@ -81,20 +81,20 @@
 
 Filename: tests/test_reduction.py
 Comment: 
 
 Filename: tests/test_reports.py
 Comment: 
 
-Filename: fairbench-0.2.3.dist-info/METADATA
+Filename: fairbench-0.2.4.dist-info/METADATA
 Comment: 
 
-Filename: fairbench-0.2.3.dist-info/WHEEL
+Filename: fairbench-0.2.4.dist-info/WHEEL
 Comment: 
 
-Filename: fairbench-0.2.3.dist-info/top_level.txt
+Filename: fairbench-0.2.4.dist-info/top_level.txt
 Comment: 
 
-Filename: fairbench-0.2.3.dist-info/RECORD
+Filename: fairbench-0.2.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## fairbench/forks/explanation.py

```diff
@@ -12,16 +12,23 @@
 class Explainable(Wrapper):
     def __init__(self, value, explain: Any = None, desc: str = None, **kwargs):
         from fairbench.forks import Fork
 
         if value.__class__.__name__ == "Future":
             value = value.result()
 
-        assert isinstance(value, float) or isinstance(value, int) or "tensor" in value.__class__.__name__.lower() or "array" in value.__class__.__name__, "Can not set non-numeric as explainable"
-        assert explain is None or not kwargs, "Cannot create explainable with both todict and a Fork"
+        assert (
+            isinstance(value, float)
+            or isinstance(value, int)
+            or "tensor" in value.__class__.__name__.lower()
+            or "array" in value.__class__.__name__
+        ), "Can not set non-numeric as explainable"
+        assert (
+            explain is None or not kwargs
+        ), "Cannot create explainable with both todict and a Fork"
         super().__init__(value)
         self.explain = Fork(kwargs) if explain is None else explain
         self.desc = desc
 
     def __float__(self):
         return tofloat(self.__value__())
```

## fairbench/forks/fork.py

```diff
@@ -139,15 +139,15 @@
         )
 
     def extract(self, *args):
         import fairbench as fb
 
         ret = dict()
         for arg in args:
-            ret = ret | fb.todict(**{arg: self[arg]})
+            ret = fb.merge(ret, fb.todict(**{arg: self[arg]}))
         return ret
 
     def branches(self, branch_names=None, zero_mask=False):
         return {
             branch: _result(value)
             if branch_names is None or not zero_mask or branch in branch_names
             else _result(value) * 0
@@ -167,15 +167,15 @@
                     - 1
                     + astensor(branches[branch2]).abs()
                 ).abs().sum() == 0:
                     has_complement = True
                     break
             if not has_complement:
                 new_branches[branch + "'"] = 1 - branches[branch]
-        return Fork(branches | new_branches)
+        return Fork({**branches, **new_branches})
 
     def intersections(self):
         # get branches
         branches = self.branches()
         ids2names = dict(enumerate(branches))
         vec = [0] * len(branches)
         while True:
@@ -660,20 +660,25 @@
             for key, arg in kwargs.items()
         }
         return _wrapped_method(*args, **kwargs)
 
     return wrapper
 
 
+@parallel_primitive
+def merge(dict1, dict2):
+    return Forklike({**dict1, **dict2})
+
+
 @comparator
 def combine(*args):
     ret = {}
     for arg in args:
         assert isinstance(arg, Fork)
-        ret |= arg._branches
+        ret = merge(ret, arg._branches)
     return Fork(ret)
 
 
 def unit_bounded(method):
     @wraps(method)
     def wrapper(*args, **kwargs):
         for iter in [args, kwargs.values()]:
```

## fairbench/reports/accumulate.py

```diff
@@ -1,8 +1,8 @@
-from fairbench.forks.fork import comparator, parallel_primitive, astensor
+from fairbench.forks.fork import comparator, parallel_primitive, astensor, merge
 from fairbench.forks.explanation import Explainable
 import eagerpy as ep
 
 
 """
 This module provides helper methods to concatenate tensors stored within Forks of tensor or Forks of dicts of tensors
 and use the final output in one report at the end.
@@ -42,9 +42,9 @@
             pass
         try:
             v = v[k]
         except AttributeError:
             pass
         except IndexError:
             pass  # for IndexError: invalid index to scalar variable. (explainables within forks)
-        ret = ret | todict(**{k: v})
+        ret = merge(ret, todict(**{k: v}))
     return ret
```

## fairbench/reports/adhoc.py

```diff
@@ -1,11 +1,11 @@
 from fairbench.reports.base import report, reportargsparse
 from fairbench.reports import reduction as fb
 from fairbench.reports.accumulate import todict as tokwargs
-from fairbench.forks.fork import combine
+from fairbench.forks.fork import combine, merge
 from fairbench.reports.surrogate import surrogate_positives
 from fairbench import metrics
 
 
 common_metrics = (metrics.accuracy, metrics.prule, metrics.dfpr, metrics.dfnr)
 acc_metrics = (metrics.accuracy, metrics.pr, metrics.tpr, metrics.tnr)
 
@@ -29,16 +29,16 @@
 
 def isecreport(*args, **kwargs):
     if len(args) == 0:
         params = tokwargs(**kwargs)
     else:
         params = dict()
         for arg in args:
-            params = params | arg
-        params = params | kwargs
+            params = merge(params, arg)
+        params = merge(params, kwargs)
 
     bayesian = fb.reduce(
         surrogate_positives(params["predictions"], params["sensitive"]),
         fb.min,
         fb.ratio,
         name="bayesian",
     )
```

## Comparing `fairbench-0.2.3.dist-info/METADATA` & `fairbench-0.2.4.dist-info/METADATA`

 * *Files 20% similar despite different names*

```diff
@@ -1,20 +1,21 @@
 Metadata-Version: 2.1
 Name: fairbench
-Version: 0.2.3
+Version: 0.2.4
 Summary: Fairness model assessment framework
 Home-page: https://github.com/mever-team/FairBench
 Author: Emmanouil (Manios) Krasanakis
 Author-email: maniospas@hotmail.com
 License: UNKNOWN
 Platform: UNKNOWN
 Classifier: Programming Language :: Python :: 3
 Classifier: License :: OSI Approved :: Apache Software License
 Classifier: Operating System :: OS Independent
 Description-Content-Type: text/markdown
+Requires-Dist: python-version (>3.6.0)
 Requires-Dist: numpy
 Requires-Dist: eagerpy
 Requires-Dist: distributed
 Requires-Dist: makefun
 Requires-Dist: matplotlib
 Requires-Dist: wget
 Requires-Dist: scikit-learn
```

## Comparing `fairbench-0.2.3.dist-info/RECORD` & `fairbench-0.2.4.dist-info/RECORD`

 * *Files 6% similar despite different names*

```diff
@@ -1,33 +1,33 @@
 fairbench/__init__.py,sha256=g4MfDvLSXjrRh6EjPFGI7SwfQeL2BeBfl-YreWxGEQU,382
 fairbench/export.py,sha256=_u97-Yi8VArkwof63mcVXgnUD-i9AY1vjxtCnQ_jKcs,1952
 fairbench/bench/__init__.py,sha256=piA_S0SAZ96_-MxdcGO_V7pCKngOFBeAv8KGj9rkGRA,38
 fairbench/bench/loader.py,sha256=BXmttN9Ee-TA6FAb1gXMhlJutDN2B6XIea6TU0Cre14,583
 fairbench/forks/__init__.py,sha256=eBRDSxc31Pc1yKCc1VjFBvPMsBVaOzVOfXHpkYQodG0,122
 fairbench/forks/categorical.py,sha256=nfsA1ZjrrywMzOhEoPUF6_9oazIJWcZEI4gvil-1VIs,2130
-fairbench/forks/explanation.py,sha256=F-QBVQvnN1O25gMDugV--UiykAp4LtAcPGh512pBtis,1070
-fairbench/forks/fork.py,sha256=dvhM3s8UepBEvC6Jt2e7iiWJHcLeh0XTKwBJIlcDo84,23803
+fairbench/forks/explanation.py,sha256=LncVhVgUuMZfEWUrIKfgu4nm7o5w0rId79cN0Ka0nbo,1161
+fairbench/forks/fork.py,sha256=R7bWGiZuHeaMPFGPyC4hGnmhy894qWUWGOoQrGiWOP8,23920
 fairbench/metrics/__init__.py,sha256=i2kNaDKTfTSEh1aGZ83ByaVXwv0gYE-guFNjj9XlF6I,154
 fairbench/metrics/classification.py,sha256=SE0l9uAozaZ_O2sU-1u6ZBwJhnOs9dT6yBbeYgVJLh4,2846
 fairbench/metrics/disparate_impact.py,sha256=VJw9Q4cA1YqP9fTTE-aMMUzjeuk072L-HRow_vaLkZA,2066
 fairbench/metrics/disparate_mistreatment.py,sha256=ORoUcMU_Dh18Ytz4dgQn8wPyaNJ_w98m_oegxI90vc4,1494
 fairbench/mitigation/__init__.py,sha256=f-owl1xAKGweXEuVbFJGYSel3-7kccvTo6SEziKmXRk,100
 fairbench/mitigation/postprocessing.py,sha256=CF2WcAWQKKfNRJ4yvNqIjuNdLaCBrSIpI_XNhmfiUkY,1790
 fairbench/reports/__init__.py,sha256=YQm7A6K3PUB4uNOw3iDu2RUaoWa07Rsn3GJr4wZkn2M,207
-fairbench/reports/accumulate.py,sha256=JMpjsfs4dc4jfMn3I0a9W-kcHzJk1hmX26qUC5BySyU,1478
-fairbench/reports/adhoc.py,sha256=7FhOawdzoK3MtY6o8wLaxKDrJ1QZmG5XTTSxra4-D-w,1629
+fairbench/reports/accumulate.py,sha256=jDlJFb1bK9nRfumzSWFbCpAGWi8aCOFil4L8Hj44xe0,1491
+fairbench/reports/adhoc.py,sha256=_rU4WgljxnNyU46WjNvNGARpVXHHd3hpqBR3IVBCRvg,1648
 fairbench/reports/base.py,sha256=_5wXT5qfDYCWMTw-e9D-HQLyFAh0IWb2ywMLzdRwdTU,2259
 fairbench/reports/surrogate.py,sha256=LnV6kkNPMGL2SYEBSSIFWjkXQ8N5m2k4y5as2zUyDt8,883
 fairbench/reports/reduction/__init__.py,sha256=a3c0w4bKV3f6NXnGMPPGFRxdfg_YIrcccy_mEBSr8zk,155
 fairbench/reports/reduction/expanders.py,sha256=eiytghNbie7zqZht6PtbdpXSbBn68Fb_x7JL1VYiGmY,794
 fairbench/reports/reduction/reduce.py,sha256=yrdQY7Bdr1LaFh8FwiPjZMrY13z1kqaKWbebeNXfbK8,1853
 fairbench/reports/reduction/reducers.py,sha256=zZKHhJDIdBdiMbRotxdRUGS-sKcLFqGgDZ8MebzNMrE,2364
 tests/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 tests/test_batching.py,sha256=bXewsKXAlDTeyZZ8OlG74-qYQ_hhiwcYJigxy0M_YKY,1394
 tests/test_benchmarks.py,sha256=RZwehxePgR6fwFCh9HWbK3rXsXQNLHomrn7M6BboiMw,1278
 tests/test_forks.py,sha256=39cnpaRVvz7xfUz2YijRIZMg9_v0FrjFM1-a0hDNGM8,4884
 tests/test_reduction.py,sha256=MK72DJomkokS-pxTgmZVXwqDd5t-9OOCVJK2zDKTObA,1572
 tests/test_reports.py,sha256=2nNSZjkrTdZl8P5bvEz8dDdRd_W7CmSvn51GDdHFPvo,6556
-fairbench-0.2.3.dist-info/METADATA,sha256=qGsfwRFicKL_dI7bhwMMjDC-1VzUibdwaGHXCKpus9Q,809
-fairbench-0.2.3.dist-info/WHEEL,sha256=OqRkF0eY5GHssMorFjlbTIq072vpHpF60fIQA6lS9xA,92
-fairbench-0.2.3.dist-info/top_level.txt,sha256=lrkG910bN_2UdVUqCXaR6aeRjjXfOQX2-wSeVjhhFnM,16
-fairbench-0.2.3.dist-info/RECORD,,
+fairbench-0.2.4.dist-info/METADATA,sha256=4hAg7nUT4RDC_L8Z71cB6_-0ivMk469eh6jzz597Kbs,848
+fairbench-0.2.4.dist-info/WHEEL,sha256=OqRkF0eY5GHssMorFjlbTIq072vpHpF60fIQA6lS9xA,92
+fairbench-0.2.4.dist-info/top_level.txt,sha256=lrkG910bN_2UdVUqCXaR6aeRjjXfOQX2-wSeVjhhFnM,16
+fairbench-0.2.4.dist-info/RECORD,,
```

